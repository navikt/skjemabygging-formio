<nav aria-label="SÃ¸knadssteg" id="{{ ctx.wizardKey }}-header" ref="{{ctx.wizardKey}}-header">
    <ol class="navds-stepper">
    {% ctx.panels.forEach(function(panel, index) { %}
        {{console.log("Form", ctx.form)}}
        <li class="navds-stepper__item">
            <span class="navds-stepper__line navds-stepper__line--1"></span>
            <{{ctx.currentPage < index ? 'div' : 'a'}}
                {% if (ctx.currentPage >= index) { %}
                href="/fyllut/{{ctx.form.path}}/{{panel.key}}"
                {% } %}
                class="navds-stepper__step {{ctx.currentPage > index ? 'navds-stepper__step--behind navds-stepper__step--completed' : ctx.currentPage < index ? 'navds-stepper__step--non-interactive' : 'navds-stepper__step--active'}}"
                ref="{{ctx.wizardKey}}-link"
                {% if (ctx.currentPage === index) { %}
                aria-current="step"
                {% } %}
            >
                {% if (ctx.currentPage > index) { %}
                    <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" role="img" aria-hidden="true" class="navds-stepper__circle navds-stepper__circle--success">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0Zm5.047 7.671 1.399 1.43-8.728 8.398L6 14.02l1.395-1.434 2.319 2.118 7.333-7.032Z" fill="currentColor"></path>
                    </svg>
                {% } else { %}
                    <span class="navds-stepper__circle navds-label" aria-hidden="true">{{ctx.t(index+1)}}</span>
                {% } %}
                <div class="navds-stepper__content navds-label">{{ctx.t(ctx.panels[index].title, { _userInput: true })}}</div>
            </{{ctx.currentPage < index ? 'div' : 'a'}}>
            <span class="navds-stepper__line navds-stepper__line--2"></span>
        </li>
    {% }) %}
  </ol>
</nav>
